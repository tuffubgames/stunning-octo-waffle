<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tuff UBG</title>
<link id="favicon" rel="icon">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI}
body{height:100vh;overflow:hidden;background:#02030a;color:white}

/* animated background */
.bg{
position:fixed;inset:0;z-index:-1;
background:
radial-gradient(circle at 20% 30%,#ff00cc55,transparent 40%),
radial-gradient(circle at 80% 70%,#7a00ff55,transparent 40%);
filter:blur(80px);
animation:move 15s infinite alternate ease-in-out;
}
@keyframes move{0%{transform:translateY(-20px)}100%{transform:translateY(20px)}}

/* desktop */
.desktop{position:absolute;inset:0;padding:20px}

/* taskbar */
.taskbar{
position:absolute;bottom:0;left:0;right:0;height:55px;
background:#ffffff10;backdrop-filter:blur(15px);
display:flex;align-items:center;gap:10px;padding:0 10px;
}
.task{
padding:6px 14px;background:#ffffff10;border-radius:10px;cursor:pointer
}

/* windows */
.window{
position:absolute;width:700px;height:450px;
background:#0c0c12;border-radius:16px;
box-shadow:0 0 25px #000;
display:flex;flex-direction:column;
resize:both;overflow:hidden;
}

.titlebar{
height:40px;background:#ffffff10;
display:flex;align-items:center;justify-content:space-between;
padding:0 10px;cursor:move
}

.controls span{margin-left:10px;cursor:pointer}

iframe{flex:1;border:none}

/* dock icons */
.icons{display:flex;gap:20px}
.icon{font-size:28px;cursor:pointer}
</style>
</head>

<body>

<div class="bg"></div>
<div class="desktop" id="desktop"></div>

<div class="taskbar">
<div class="icons">
<div class="icon" onclick="openBrowser()">üåê</div>
<div class="icon" onclick="openGames()">üéÆ</div>
<div class="icon" onclick="openSettings()">‚öô</div>
</div>
<div id="tasks"></div>
</div>

<audio id="player" loop></audio>

<script>
let z=1

function createWindow(title,content){
let win=document.createElement("div")
win.className="window"
win.style.top="80px"
win.style.left="120px"
win.style.zIndex=++z

win.innerHTML=`
<div class="titlebar">
${title}
<div class="controls">
<span onclick="this.closest('.window').remove()">‚úñ</span>
</div>
</div>
${content}
`

desktop.appendChild(win)
drag(win)
task(title,win)
}

function drag(el){
let bar=el.querySelector(".titlebar")
bar.onmousedown=e=>{
let x=e.clientX-el.offsetLeft
let y=e.clientY-el.offsetTop
document.onmousemove=e=>{
el.style.left=e.clientX-x+"px"
el.style.top=e.clientY-y+"px"
}
document.onmouseup=()=>document.onmousemove=null
}
}

/* taskbar */
function task(name,win){
let t=document.createElement("div")
t.className="task"
t.textContent=name
t.onclick=()=>win.style.zIndex=++z
tasks.appendChild(t)
}

/* apps */
function openBrowser(){
createWindow("Browser",`
<div class="toolbar">
<input id="urlBox" placeholder="Search DuckDuckGo or enter URL"
style="width:100%;padding:8px;background:#ffffff10;border:none;color:white"
onkeydown="if(event.key==='Enter'){go(this)}">
</div>
<iframe src="https://duckduckgo.com"></iframe>
`)
}

function go(i){
let u=i.value.includes(".")?"https://"+i.value:
"https://duckduckgo.com/?q="+i.value
i.parentElement.nextElementSibling.src=u
}

function openGames(){
createWindow("Games",`
<iframe src="data:text/html,<h1 style='color:white;text-align:center'>Your games here</h1>"></iframe>
`)
}

function openSettings(){
createWindow("Settings",`
<div style="padding:20px;display:flex;flex-direction:column;gap:15px">
<input type="file" onchange="wallpaper(event)">
<button onclick="music()">Toggle Music</button>
<button onclick="cloak()">Cloak</button>
</div>
`)
}

/* features */
function wallpaper(e){
let r=new FileReader()
r.onload=()=>document.body.style.background="url("+r.result+") center/cover"
r.readAsDataURL(e.target.files[0])
}

function music(){
player.src="https://files.catbox.moe/8f3y5x.mp3"
player.paused?player.play():player.pause()
}

function cloak(){
document.title="Google"
favicon.href="https://google.com/favicon.ico"
}
</script>

</body>
</html>
